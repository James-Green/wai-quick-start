function swap(){}var m=document.getElementById("modal_window"),p=document.getElementById("page");swap(),function(){"use strict";function t(t){return document.getElementById(t)}function e(t,e){t.classList?t.classList.add(e):n(t,e)||(t.className+=" "+e)}function n(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function o(){d=document.activeElement,t(this.id+"-overlay").setAttribute("aria-hidden","false"),t(this.id+"-holder").setAttribute("tabindex","0"),t(this.id+"-holder").focus(),r=this.id}function i(e){if(r){var n=t(r+"-overlay"),o=t(r+"-holder");"false"!=n.getAttribute("aria-hidden")||e.keyCode&&27!==e.keyCode||(n.setAttribute("aria-hidden","true"),o.setAttribute("tabindex","-1"),r=null,d.focus())}}function a(e){var n=t(r+"-holder");r&&!n.contains(e.target)&&(e.stopPropagation(),n.focus())}var r,d,l,c=document.querySelectorAll("a,input,select,textarea,button"),s=document.createElement("button");s.setAttribute("class","btn-close"),s.setAttribute("type","button"),s.setAttribute("aria-label","close"),s.innerHTML="&times;";var u=document.querySelectorAll(".modal-open");Array.prototype.forEach.call(u,function(n){e(t(n.id+"-overlay"),"modal-overlay"),e(t(n.id+"-holder"),"modal-holder"),e(t(n.id+"-title"),"modal-title"),n.addEventListener("click",o);var a=t(n.id+"-holder"),r=s.cloneNode(!0);r.addEventListener("click",i),a.appendChild(r)});var m=document.querySelectorAll(".modal-overlay");for(Array.prototype.forEach.call(m,function(t){t.addEventListener("click",i,!1)}),document.addEventListener("keydown",function(t){r&&i(t)}),l=0;l<c.length;l++)c.item(l).addEventListener("focus",a)}();